<%@ Page Title="" Language="C#" MasterPageFile="~/mpEmpresa.master" AutoEventWireup="true" CodeFile="empEventos.aspx.cs" Inherits="empEventos" %> <asp:Content ID="Content1" ContentPlaceHolderID="head" Runat="Server"> <style> .auto-style7 { height: 60px; width: 640px; } #barra { background-color:#000000; overflow: auto; width:100%; height:240px; } .btnEvento { border-style: none; border-color: inherit; border-width: medium; font-size: 16px; background-color: #00ffff; color:white; padding:6px; cursor:pointer; border-radius: 4px; transition: 0.3s; } .btnEvento:hover{ background-color: #58d7ee; transition:0.3s; } .auto-style9 { } .auto-style11 { width: 15%; } .auto-style12 { } .auto-style13 { width: 640px; } .auto-style14 { width: 640px; text-align:center; } .auto-style15 { width: 66px; } .auto-style16 { width: 66px; } .auto-style17 { width: 15%; } .auto-style18 { height: 30px; } .auto-style19 { width: 640px; text-align: center; height: 30px; } .auto-style21 { width: 66px; height: 30px; } </style> </asp:Content> <asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder1" Runat="Server"> <form id="form1" runat="server"> <table style="width: 100%; height: 240px;"> <tr> <td style="text-align:center;font-size:20px;font-weight:bold;" class="auto-style11"> EVENTOS<div class="line-title bg-primary"></div> </td> <td class="auto-style13"></td> <td class="auto-style9"> &nbsp;</td> <td class="auto-style15">&nbsp;</td> </tr> <tr> <td class="auto-style12">&nbsp;</td> <td class="auto-style7" style="text-align:center;"> <div id="barra"> <div style="height:5%;"></div> <asp:GridView ID="gvEventos" runat="server" AutoGenerateColumns="False" Height="95%" HorizontalAlign="Center" Width="98%" DataKeyNames="id" ViewStateMode="Disabled"> <Columns> <asp:TemplateField> <ItemTemplate> <asp:CheckBox ID="chkEventos" runat="server" /> </ItemTemplate> </asp:TemplateField> <asp:TemplateField HeaderText="ID" SortExpression="id"> <EditItemTemplate> <asp:Label ID="Label1" runat="server" Text='<%# Eval("id") %>'></asp:Label> </EditItemTemplate> <ItemTemplate> <asp:Label ID="Label1" runat="server" Text='<%# Bind("id") %>'></asp:Label> </ItemTemplate> </asp:TemplateField> <asp:TemplateField HeaderText="Evento" SortExpression="nome_evento"> <EditItemTemplate> <asp:TextBox ID="TextBox1" runat="server" Text='<%# Bind("nome_evento") %>'></asp:TextBox> </EditItemTemplate> <ItemTemplate> <asp:Label ID="Label2" runat="server" Text='<%# Bind("nome_evento") %>'></asp:Label> </ItemTemplate> </asp:TemplateField> <asp:TemplateField HeaderText="Tipo" SortExpression="tipo"> <EditItemTemplate> <asp:TextBox ID="TextBox2" runat="server" Text='<%# Bind("tipo") %>'></asp:TextBox> </EditItemTemplate> <ItemTemplate> <asp:Label ID="Label3" runat="server" Text='<%# Bind("tipo") %>'></asp:Label> </ItemTemplate> </asp:TemplateField> <asp:TemplateField HeaderText="Faixa Etária" SortExpression="faet"> <EditItemTemplate> <asp:TextBox ID="TextBox3" runat="server" Text='<%# Bind("faet") %>'></asp:TextBox> </EditItemTemplate> <ItemTemplate> <asp:Label ID="Label4" runat="server" Text='<%# Bind("faet") %>'></asp:Label> </ItemTemplate> </asp:TemplateField> <asp:TemplateField HeaderText="Local" SortExpression="local"> <EditItemTemplate> <asp:TextBox ID="TextBox4" runat="server" Text='<%# Bind("local") %>'></asp:TextBox> </EditItemTemplate> <ItemTemplate> <asp:Label ID="Label5" runat="server" Text='<%# Bind("local") %>'></asp:Label> </ItemTemplate> </asp:TemplateField> <asp:TemplateField HeaderText="Data de Início" SortExpression="data"> <EditItemTemplate> <asp:TextBox ID="TextBox5" runat="server" Text='<%# Bind("data") %>'></asp:TextBox> </EditItemTemplate> <ItemTemplate> <asp:Label ID="Label6" runat="server" Text='<%# Bind("data","{0:d}") %>'></asp:Label> </ItemTemplate> </asp:TemplateField> <asp:TemplateField HeaderText="Hora de Início" SortExpression="hora"> <EditItemTemplate> <asp:TextBox ID="TextBox6" runat="server" Text='<%# Bind("hora") %>'></asp:TextBox> </EditItemTemplate> <ItemTemplate> <asp:Label ID="Label7" runat="server" Text='<%# Bind("hora", "{0:t}") %>'></asp:Label> </ItemTemplate> </asp:TemplateField> </Columns> <EmptyDataRowStyle BackColor="Red" /> <HeaderStyle BackColor="Cyan" ForeColor="White" HorizontalAlign="Center" VerticalAlign="Middle" Wrap="True" /> <RowStyle ForeColor="White" HorizontalAlign="Center" VerticalAlign="Middle" /> <SortedAscendingHeaderStyle HorizontalAlign="Center" VerticalAlign="Middle" /> <SortedDescendingHeaderStyle HorizontalAlign="Center" VerticalAlign="Middle" /> </asp:GridView> </div> </td> <td class="auto-style17" style="text-align:center"> <asp:ImageButton ID="btnAltEvento" runat="server" CssClass="btnEvento" Height="100px" ImageUrl="~/img/ferramenta4.png" Width="100px" OnClick="btnAltEvento_Click" /> <br /> <br /> <asp:ImageButton ID="btnDelEvento" runat="server" CssClass="btnEvento" Height="100px" ImageUrl="~/img/delete.png" Width="100px" OnClick="btnDelEvento_Click" /> </td> <td class="auto-style16">&nbsp;</td> </tr> <tr> <td class="auto-style18"></td> <td class="auto-style19"> <asp:Label ID="lblResp" runat="server" Font-Bold="True"></asp:Label> </td> <td class="auto-style18"> </td> <td class="auto-style21"> </td> </tr> <tr> <td class="auto-style12"> <asp:SqlDataSource ID="sqlAudEmp" runat="server" ConnectionString="<%$ ConnectionStrings:neonaeConnectionString %>" InsertCommand="insert into aud_emp values(0,@id,@table,@desc,@hr,@data)" ProviderName="<%$ ConnectionStrings:neonaeConnectionString.ProviderName %>" SelectCommand="SELECT * FROM aud_emp"> <InsertParameters> <asp:Parameter Name="id" /> <asp:Parameter Name="table" /> <asp:Parameter Name="desc" /> <asp:Parameter Name="hr" /> <asp:Parameter Name="data" /> </InsertParameters> </asp:SqlDataSource> <asp:SqlDataSource ID="sqlEventos" runat="server" ConnectionString="<%$ ConnectionStrings:neonaeConnectionString %>" ProviderName="<%$ ConnectionStrings:neonaeConnectionString.ProviderName %>" SelectCommand="SELECT id, nome_evento, tipo, faet, local, data, hora FROM empeventos WHERE (empresa = @empresa)" UpdateCommand="UPDATE evento SET ativo_even = 0 WHERE (id_even = @id)"> <SelectParameters> <asp:SessionParameter Name="empresa" SessionField="empresa" /> </SelectParameters> <UpdateParameters> <asp:Parameter Name="id" /> </UpdateParameters> </asp:SqlDataSource> </td> <td class="auto-style14">Criou um evento e ele ainda não apareceu aqui? Aguarde a liberação dele por nossa equipe e tente novamente mais tarde.</td> <td class="auto-style17" style="text-align:center"> <asp:Button ID="btnCriarEvento" runat="server" Text="Criar Evento" CssClass="btnEvento" OnClick="btnCriarEvento_Click" Width="100%" Height="35px" /> </td> </tr> </table> </form> </asp:Content> 